From bb0a8d61894e2649e216fc4eeb6578ba19663b94 Mon Sep 17 00:00:00 2001
From: Koen Kooi <koen@dominion.thruhere.net>
Date: Mon, 28 May 2012 18:54:57 +0200
Subject: [PATCH 66/68] beaglebone: disable OPP for 275MHz due to silicon
 errata

Signed-off-by: Koen Kooi <koen@dominion.thruhere.net>
---
 arch/arm/mach-omap2/board-am335xevm.c |    3 +++
 1 file changed, 3 insertions(+)

diff --git a/arch/arm/mach-omap2/board-am335xevm.c b/arch/arm/mach-omap2/board-am335xevm.c
index da6020b..58c2754 100644
--- a/arch/arm/mach-omap2/board-am335xevm.c
+++ b/arch/arm/mach-omap2/board-am335xevm.c
@@ -2975,6 +2975,9 @@ static void tps65217_init(int evm_id, int profile)
 		return;
 	}
 
+	pr_info("Disabling OPP for 275MHz due to silicon errata");
+	opp_disable(mpu_dev, 275000000);
+
 	if (!(val & TPS65217_STATUS_ACPWR)) {
 		/* If powered by USB then disable OPP120 and OPPTURBO */
 		pr_info("Maximum current provided by the USB port is 500mA"
-- 
1.7.10

